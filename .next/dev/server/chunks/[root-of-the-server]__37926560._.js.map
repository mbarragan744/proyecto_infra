{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/maria/Downloads/next-js-e-commerce-app/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\"\n\nconst globalForPrisma = globalThis as unknown as {\n  prisma: PrismaClient | undefined\n}\n\nexport const prisma = globalForPrisma.prisma ?? new PrismaClient()\n\nif (process.env.NODE_ENV !== \"production\") globalForPrisma.prisma = prisma\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,kBAAkB;AAIjB,MAAM,SAAS,gBAAgB,MAAM,IAAI,IAAI,6IAAY;AAEhE,wCAA2C,gBAAgB,MAAM,GAAG"}},
    {"offset": {"line": 65, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/maria/Downloads/next-js-e-commerce-app/lib/jwt.ts"],"sourcesContent":["import \"server-only\"\nimport { SignJWT, jwtVerify } from \"jose\"\n\nconst secret = new TextEncoder().encode(process.env.JWT_SECRET || \"your-secret-key-change-in-production\")\n\nexport async function signToken(payload: { userId: string; email: string }) {\n  return await new SignJWT(payload)\n    .setProtectedHeader({ alg: \"HS256\" })\n    .setExpirationTime(\"7d\")\n    .setIssuedAt()\n    .sign(secret)\n}\n\nexport async function verifyToken(token: string) {\n  try {\n    const { payload } = await jwtVerify(token, secret)\n    return payload as { userId: string; email: string }\n  } catch (error) {\n    return null\n  }\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AAAA;;;AAEA,MAAM,SAAS,IAAI,cAAc,MAAM,CAAC,QAAQ,GAAG,CAAC,UAAU,IAAI;AAE3D,eAAe,UAAU,OAA0C;IACxE,OAAO,MAAM,IAAI,kKAAO,CAAC,SACtB,kBAAkB,CAAC;QAAE,KAAK;IAAQ,GAClC,iBAAiB,CAAC,MAClB,WAAW,GACX,IAAI,CAAC;AACV;AAEO,eAAe,YAAY,KAAa;IAC7C,IAAI;QACF,MAAM,EAAE,OAAO,EAAE,GAAG,MAAM,IAAA,sKAAS,EAAC,OAAO;QAC3C,OAAO;IACT,EAAE,OAAO,OAAO;QACd,OAAO;IACT;AACF"}},
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/maria/Downloads/next-js-e-commerce-app/lib/auth.ts"],"sourcesContent":["import \"server-only\"\nimport { cookies } from \"next/headers\"\nimport { verifyToken } from \"./jwt\"\n\nexport async function getAuthUser() {\n  const cookieStore = await cookies()\n  const token = cookieStore.get(\"auth_token\")?.value\n\n  if (!token) {\n    return null\n  }\n\n  const payload = await verifyToken(token)\n  return payload\n}\n\nexport async function requireAuth() {\n  const user = await getAuthUser()\n  if (!user) {\n    throw new Error(\"Unauthorized\")\n  }\n  return user\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;;;;AAEO,eAAe;IACpB,MAAM,cAAc,MAAM,IAAA,4IAAO;IACjC,MAAM,QAAQ,YAAY,GAAG,CAAC,eAAe;IAE7C,IAAI,CAAC,OAAO;QACV,OAAO;IACT;IAEA,MAAM,UAAU,MAAM,IAAA,2HAAW,EAAC;IAClC,OAAO;AACT;AAEO,eAAe;IACpB,MAAM,OAAO,MAAM;IACnB,IAAI,CAAC,MAAM;QACT,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}},
    {"offset": {"line": 126, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/maria/Downloads/next-js-e-commerce-app/lib/mock-data.ts"],"sourcesContent":["export interface Product {\n  id: string\n  name: string\n  description: string\n  price: number\n  image: string\n  stock: number\n  category: string\n  createdAt: string\n  updatedAt: string\n}\n\nexport const mockProducts: Product[] = [\n  {\n    id: \"1\",\n    name: \"Wireless Headphones\",\n    description: \"Premium noise-cancelling wireless headphones with 30-hour battery life\",\n    price: 199.99,\n    image: \"/wireless-headphones.png\",\n    stock: 50,\n    category: \"Electronics\",\n    createdAt: new Date().toISOString(),\n    updatedAt: new Date().toISOString(),\n  },\n  {\n    id: \"2\",\n    name: \"Smart Watch\",\n    description: \"Fitness tracking smartwatch with heart rate monitor and GPS\",\n    price: 299.99,\n    image: \"/smartwatch-lifestyle.png\",\n    stock: 30,\n    category: \"Electronics\",\n    createdAt: new Date().toISOString(),\n    updatedAt: new Date().toISOString(),\n  },\n  {\n    id: \"3\",\n    name: \"Laptop Backpack\",\n    description: \"Water-resistant laptop backpack with USB charging port\",\n    price: 59.99,\n    image: \"/laptop-backpack.png\",\n    stock: 100,\n    category: \"Accessories\",\n    createdAt: new Date().toISOString(),\n    updatedAt: new Date().toISOString(),\n  },\n  {\n    id: \"4\",\n    name: \"Mechanical Keyboard\",\n    description: \"RGB mechanical gaming keyboard with blue switches\",\n    price: 149.99,\n    image: \"/mechanical-keyboard.png\",\n    stock: 45,\n    category: \"Electronics\",\n    createdAt: new Date().toISOString(),\n    updatedAt: new Date().toISOString(),\n  },\n  {\n    id: \"5\",\n    name: \"Wireless Mouse\",\n    description: \"Ergonomic wireless mouse with adjustable DPI\",\n    price: 49.99,\n    image: \"/wireless-mouse.png\",\n    stock: 75,\n    category: \"Electronics\",\n    createdAt: new Date().toISOString(),\n    updatedAt: new Date().toISOString(),\n  },\n  {\n    id: \"6\",\n    name: \"USB-C Hub\",\n    description: \"7-in-1 USB-C hub with HDMI, USB 3.0, and SD card reader\",\n    price: 39.99,\n    image: \"/usb-c-hub.jpg\",\n    stock: 60,\n    category: \"Accessories\",\n    createdAt: new Date().toISOString(),\n    updatedAt: new Date().toISOString(),\n  },\n  {\n    id: \"7\",\n    name: \"Phone Stand\",\n    description: \"Adjustable aluminum phone stand for desk\",\n    price: 24.99,\n    image: \"/phone-stand.jpg\",\n    stock: 120,\n    category: \"Accessories\",\n    createdAt: new Date().toISOString(),\n    updatedAt: new Date().toISOString(),\n  },\n  {\n    id: \"8\",\n    name: \"Webcam 1080p\",\n    description: \"Full HD webcam with auto-focus and noise reduction\",\n    price: 79.99,\n    image: \"/classic-webcam.png\",\n    stock: 35,\n    category: \"Electronics\",\n    createdAt: new Date().toISOString(),\n    updatedAt: new Date().toISOString(),\n  },\n]\n\nexport function getProducts(category?: string): Product[] {\n  if (category) {\n    return mockProducts.filter((p) => p.category === category)\n  }\n  return mockProducts\n}\n\nexport function getProductById(id: string): Product | undefined {\n  return mockProducts.find((p) => p.id === id)\n}\n\nexport function getFeaturedProducts(): Product[] {\n  return mockProducts.slice(0, 4)\n}\n\nexport const products = mockProducts\n"],"names":[],"mappings":";;;;;;;;;;;;AAYO,MAAM,eAA0B;IACrC;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,OAAO;QACP,OAAO;QACP,OAAO;QACP,UAAU;QACV,WAAW,IAAI,OAAO,WAAW;QACjC,WAAW,IAAI,OAAO,WAAW;IACnC;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,OAAO;QACP,OAAO;QACP,OAAO;QACP,UAAU;QACV,WAAW,IAAI,OAAO,WAAW;QACjC,WAAW,IAAI,OAAO,WAAW;IACnC;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,OAAO;QACP,OAAO;QACP,OAAO;QACP,UAAU;QACV,WAAW,IAAI,OAAO,WAAW;QACjC,WAAW,IAAI,OAAO,WAAW;IACnC;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,OAAO;QACP,OAAO;QACP,OAAO;QACP,UAAU;QACV,WAAW,IAAI,OAAO,WAAW;QACjC,WAAW,IAAI,OAAO,WAAW;IACnC;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,OAAO;QACP,OAAO;QACP,OAAO;QACP,UAAU;QACV,WAAW,IAAI,OAAO,WAAW;QACjC,WAAW,IAAI,OAAO,WAAW;IACnC;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,OAAO;QACP,OAAO;QACP,OAAO;QACP,UAAU;QACV,WAAW,IAAI,OAAO,WAAW;QACjC,WAAW,IAAI,OAAO,WAAW;IACnC;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,OAAO;QACP,OAAO;QACP,OAAO;QACP,UAAU;QACV,WAAW,IAAI,OAAO,WAAW;QACjC,WAAW,IAAI,OAAO,WAAW;IACnC;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,OAAO;QACP,OAAO;QACP,OAAO;QACP,UAAU;QACV,WAAW,IAAI,OAAO,WAAW;QACjC,WAAW,IAAI,OAAO,WAAW;IACnC;CACD;AAEM,SAAS,YAAY,QAAiB;IAC3C,IAAI,UAAU;QACZ,OAAO,aAAa,MAAM,CAAC,CAAC,IAAM,EAAE,QAAQ,KAAK;IACnD;IACA,OAAO;AACT;AAEO,SAAS,eAAe,EAAU;IACvC,OAAO,aAAa,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;AAC3C;AAEO,SAAS;IACd,OAAO,aAAa,KAAK,CAAC,GAAG;AAC/B;AAEO,MAAM,WAAW"}},
    {"offset": {"line": 245, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/maria/Downloads/next-js-e-commerce-app/app/api/cart/route.ts"],"sourcesContent":["import { type NextRequest, NextResponse } from \"next/server\"\nimport { prisma } from \"@/lib/prisma\"\nimport { requireAuth } from \"@/lib/auth\"\nimport { products } from \"@/lib/mock-data\"\n\nexport async function GET() {\n  try {\n    const auth = await requireAuth()\n\n    let cart = await prisma.cart.findUnique({\n      where: { userId: auth.userId },\n      include: {\n        items: true,\n      },\n    })\n\n    if (!cart) {\n      cart = await prisma.cart.create({\n        data: {\n          userId: auth.userId,\n        },\n        include: {\n          items: true,\n        },\n      })\n    }\n\n    const itemsWithProducts = cart.items\n      .map((item) => {\n        const product = products.find((p) => p.id === item.productId)\n        return {\n          ...item,\n          product: product || null,\n        }\n      })\n      .filter((item) => item.product !== null)\n\n    const total = itemsWithProducts.reduce((sum, item) => sum + (item.product?.price || 0) * item.quantity, 0)\n\n    return NextResponse.json({\n      cart: { ...cart, items: itemsWithProducts },\n      total,\n    })\n  } catch (error) {\n    console.error(\"Get cart error:\", error)\n    return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 })\n  }\n}\n\nexport async function POST(request: NextRequest) {\n  try {\n    const auth = await requireAuth()\n    const { productId, quantity = 1 } = await request.json()\n\n    if (!productId) {\n      return NextResponse.json({ error: \"Product ID is required\" }, { status: 400 })\n    }\n\n    const product = products.find((p) => p.id === productId)\n\n    if (!product) {\n      return NextResponse.json({ error: \"Product not found\" }, { status: 404 })\n    }\n\n    if (product.stock < quantity) {\n      return NextResponse.json({ error: \"Insufficient stock\" }, { status: 400 })\n    }\n\n    let cart = await prisma.cart.findUnique({\n      where: { userId: auth.userId },\n    })\n\n    if (!cart) {\n      cart = await prisma.cart.create({\n        data: { userId: auth.userId },\n      })\n    }\n\n    const existingItem = await prisma.cartItem.findUnique({\n      where: {\n        cartId_productId: {\n          cartId: cart.id,\n          productId,\n        },\n      },\n    })\n\n    if (existingItem) {\n      await prisma.cartItem.update({\n        where: { id: existingItem.id },\n        data: {\n          quantity: existingItem.quantity + quantity,\n        },\n      })\n    } else {\n      await prisma.cartItem.create({\n        data: {\n          cartId: cart.id,\n          productId,\n          quantity,\n        },\n      })\n    }\n\n    const updatedCart = await prisma.cart.findUnique({\n      where: { id: cart.id },\n      include: {\n        items: true,\n      },\n    })\n\n    const itemsWithProducts = updatedCart!.items.map((item) => {\n      const product = products.find((p) => p.id === item.productId)\n      return {\n        ...item,\n        product,\n      }\n    })\n\n    return NextResponse.json({\n      cart: { ...updatedCart, items: itemsWithProducts },\n    })\n  } catch (error) {\n    console.error(\"Add to cart error:\", error)\n    return NextResponse.json({ error: \"Internal server error\" }, { status: 500 })\n  }\n}\n\nexport async function DELETE() {\n  try {\n    const auth = await requireAuth()\n\n    const cart = await prisma.cart.findUnique({\n      where: { userId: auth.userId },\n    })\n\n    if (cart) {\n      await prisma.cartItem.deleteMany({\n        where: { cartId: cart.id },\n      })\n    }\n\n    return NextResponse.json({ success: true })\n  } catch (error) {\n    console.error(\"Clear cart error:\", error)\n    return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 })\n  }\n}\n"],"names":[],"mappings":"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"}}]
}