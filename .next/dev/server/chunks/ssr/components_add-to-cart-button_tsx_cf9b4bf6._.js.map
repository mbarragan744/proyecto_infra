{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/maria/Downloads/next-js-e-commerce-app/components/add-to-cart-button.tsx"],"sourcesContent":["\"use client\"\n\nimport { ShoppingCart } from \"lucide-react\"\nimport { Button } from \"@/components/ui/button\"\nimport type { Product } from \"@/lib/types\"\nimport { toast } from \"@/hooks/use-toast\"\nimport { mutate } from \"swr\"\nimport { useRouter } from \"next/navigation\"\n\ninterface AddToCartButtonProps {\n  product: Product\n}\n\nexport function AddToCartButton({ product }: AddToCartButtonProps) {\n  const router = useRouter()\n\n  const handleAddToCart = async () => {\n    try {\n      const res = await fetch(\"/api/cart\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ productId: product.id, quantity: 1 }),\n      })\n\n      if (!res.ok) {\n        const data = await res.json()\n        if (res.status === 401) {\n          toast({\n            title: \"Login required\",\n            description: \"Please login to add items to cart\",\n            variant: \"destructive\",\n          })\n          router.push(\"/login\")\n          return\n        }\n        throw new Error(data.error || \"Failed to add to cart\")\n      }\n\n      mutate(\"/api/cart\")\n      toast({\n        title: \"Added to cart\",\n        description: `${product.name} has been added to your cart`,\n      })\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: error instanceof Error ? error.message : \"Failed to add to cart\",\n        variant: \"destructive\",\n      })\n    }\n  }\n\n  return (\n    <Button className=\"w-full\" size=\"lg\" onClick={handleAddToCart} disabled={product.stock === 0}>\n      <ShoppingCart className=\"mr-2 h-5 w-5\" />\n      {product.stock === 0 ? \"Out of Stock\" : \"Add to Cart\"}\n    </Button>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AACA;AACA;AAPA;;;;;;;AAaO,SAAS,gBAAgB,EAAE,OAAO,EAAwB;IAC/D,MAAM,SAAS,IAAA,+IAAS;IAExB,MAAM,kBAAkB;QACtB,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,aAAa;gBACnC,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE,WAAW,QAAQ,EAAE;oBAAE,UAAU;gBAAE;YAC5D;YAEA,IAAI,CAAC,IAAI,EAAE,EAAE;gBACX,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,IAAI,IAAI,MAAM,KAAK,KAAK;oBACtB,IAAA,8HAAK,EAAC;wBACJ,OAAO;wBACP,aAAa;wBACb,SAAS;oBACX;oBACA,OAAO,IAAI,CAAC;oBACZ;gBACF;gBACA,MAAM,IAAI,MAAM,KAAK,KAAK,IAAI;YAChC;YAEA,IAAA,6NAAM,EAAC;YACP,IAAA,8HAAK,EAAC;gBACJ,OAAO;gBACP,aAAa,GAAG,QAAQ,IAAI,CAAC,4BAA4B,CAAC;YAC5D;QACF,EAAE,OAAO,OAAO;YACd,IAAA,8HAAK,EAAC;gBACJ,OAAO;gBACP,aAAa,iBAAiB,QAAQ,MAAM,OAAO,GAAG;gBACtD,SAAS;YACX;QACF;IACF;IAEA,qBACE,8OAAC,qIAAM;QAAC,WAAU;QAAS,MAAK;QAAK,SAAS;QAAiB,UAAU,QAAQ,KAAK,KAAK;;0BACzF,8OAAC,sOAAY;gBAAC,WAAU;;;;;;YACvB,QAAQ,KAAK,KAAK,IAAI,iBAAiB;;;;;;;AAG9C"}}]
}