{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/maria/Downloads/next-js-e-commerce-app/components/cart-item.tsx"],"sourcesContent":["\"use client\"\n\nimport Image from \"next/image\"\nimport { Minus, Plus, Trash2 } from \"lucide-react\"\nimport { Button } from \"@/components/ui/button\"\nimport type { CartItem as CartItemType } from \"@/lib/types\"\nimport { toast } from \"@/hooks/use-toast\"\nimport { mutate } from \"swr\"\n\ninterface CartItemProps {\n  item: CartItemType\n}\n\nexport function CartItem({ item }: CartItemProps) {\n  const updateQuantity = async (newQuantity: number) => {\n    if (newQuantity < 1) return\n\n    try {\n      const res = await fetch(`/api/cart/${item.id}`, {\n        method: \"PATCH\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ quantity: newQuantity }),\n      })\n\n      if (!res.ok) {\n        const data = await res.json()\n        throw new Error(data.error || \"Failed to update quantity\")\n      }\n\n      mutate(\"/api/cart\")\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: error instanceof Error ? error.message : \"Failed to update quantity\",\n        variant: \"destructive\",\n      })\n    }\n  }\n\n  const removeItem = async () => {\n    try {\n      const res = await fetch(`/api/cart/${item.id}`, {\n        method: \"DELETE\",\n      })\n\n      if (!res.ok) {\n        throw new Error(\"Failed to remove item\")\n      }\n\n      mutate(\"/api/cart\")\n      toast({\n        title: \"Item removed\",\n        description: \"Item has been removed from your cart\",\n      })\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to remove item\",\n        variant: \"destructive\",\n      })\n    }\n  }\n\n  return (\n    <div className=\"flex gap-4 rounded-lg border p-4\">\n      <div className=\"relative h-24 w-24 shrink-0 overflow-hidden rounded-md bg-muted\">\n        <Image\n          src={item.product.image || \"/placeholder.svg?height=100&width=100\"}\n          alt={item.product.name}\n          fill\n          className=\"object-cover\"\n        />\n      </div>\n\n      <div className=\"flex flex-1 flex-col justify-between\">\n        <div>\n          <h3 className=\"font-semibold\">{item.product.name}</h3>\n          <p className=\"text-sm text-muted-foreground\">${item.product.price.toFixed(2)} each</p>\n        </div>\n\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-2\">\n            <Button\n              variant=\"outline\"\n              size=\"icon\"\n              className=\"h-8 w-8 bg-transparent\"\n              onClick={() => updateQuantity(item.quantity - 1)}\n              disabled={item.quantity <= 1}\n            >\n              <Minus className=\"h-3 w-3\" />\n            </Button>\n            <span className=\"w-8 text-center text-sm font-medium\">{item.quantity}</span>\n            <Button\n              variant=\"outline\"\n              size=\"icon\"\n              className=\"h-8 w-8 bg-transparent\"\n              onClick={() => updateQuantity(item.quantity + 1)}\n              disabled={item.quantity >= item.product.stock}\n            >\n              <Plus className=\"h-3 w-3\" />\n            </Button>\n          </div>\n\n          <div className=\"flex items-center gap-4\">\n            <span className=\"font-semibold\">${(item.product.price * item.quantity).toFixed(2)}</span>\n            <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8 text-destructive\" onClick={removeItem}>\n              <Trash2 className=\"h-4 w-4\" />\n            </Button>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AAPA;;;;;;;AAaO,SAAS,SAAS,EAAE,IAAI,EAAiB;IAC9C,MAAM,iBAAiB,OAAO;QAC5B,IAAI,cAAc,GAAG;QAErB,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,CAAC,UAAU,EAAE,KAAK,EAAE,EAAE,EAAE;gBAC9C,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE,UAAU;gBAAY;YAC/C;YAEA,IAAI,CAAC,IAAI,EAAE,EAAE;gBACX,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,MAAM,IAAI,MAAM,KAAK,KAAK,IAAI;YAChC;YAEA,IAAA,6NAAM,EAAC;QACT,EAAE,OAAO,OAAO;YACd,IAAA,8HAAK,EAAC;gBACJ,OAAO;gBACP,aAAa,iBAAiB,QAAQ,MAAM,OAAO,GAAG;gBACtD,SAAS;YACX;QACF;IACF;IAEA,MAAM,aAAa;QACjB,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,CAAC,UAAU,EAAE,KAAK,EAAE,EAAE,EAAE;gBAC9C,QAAQ;YACV;YAEA,IAAI,CAAC,IAAI,EAAE,EAAE;gBACX,MAAM,IAAI,MAAM;YAClB;YAEA,IAAA,6NAAM,EAAC;YACP,IAAA,8HAAK,EAAC;gBACJ,OAAO;gBACP,aAAa;YACf;QACF,EAAE,OAAO,OAAO;YACd,IAAA,8HAAK,EAAC;gBACJ,OAAO;gBACP,aAAa;gBACb,SAAS;YACX;QACF;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,wIAAK;oBACJ,KAAK,KAAK,OAAO,CAAC,KAAK,IAAI;oBAC3B,KAAK,KAAK,OAAO,CAAC,IAAI;oBACtB,IAAI;oBACJ,WAAU;;;;;;;;;;;0BAId,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;;0CACC,8OAAC;gCAAG,WAAU;0CAAiB,KAAK,OAAO,CAAC,IAAI;;;;;;0CAChD,8OAAC;gCAAE,WAAU;;oCAAgC;oCAAE,KAAK,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC;oCAAG;;;;;;;;;;;;;kCAG/E,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,qIAAM;wCACL,SAAQ;wCACR,MAAK;wCACL,WAAU;wCACV,SAAS,IAAM,eAAe,KAAK,QAAQ,GAAG;wCAC9C,UAAU,KAAK,QAAQ,IAAI;kDAE3B,cAAA,8OAAC,6MAAK;4CAAC,WAAU;;;;;;;;;;;kDAEnB,8OAAC;wCAAK,WAAU;kDAAuC,KAAK,QAAQ;;;;;;kDACpE,8OAAC,qIAAM;wCACL,SAAQ;wCACR,MAAK;wCACL,WAAU;wCACV,SAAS,IAAM,eAAe,KAAK,QAAQ,GAAG;wCAC9C,UAAU,KAAK,QAAQ,IAAI,KAAK,OAAO,CAAC,KAAK;kDAE7C,cAAA,8OAAC,0MAAI;4CAAC,WAAU;;;;;;;;;;;;;;;;;0CAIpB,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAK,WAAU;;4CAAgB;4CAAE,CAAC,KAAK,OAAO,CAAC,KAAK,GAAG,KAAK,QAAQ,EAAE,OAAO,CAAC;;;;;;;kDAC/E,8OAAC,qIAAM;wCAAC,SAAQ;wCAAQ,MAAK;wCAAO,WAAU;wCAA2B,SAAS;kDAChF,cAAA,8OAAC,oNAAM;4CAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOhC"}},
    {"offset": {"line": 237, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/maria/Downloads/next-js-e-commerce-app/app/cart/page.tsx"],"sourcesContent":["\"use client\"\n\nimport Link from \"next/link\"\nimport { Button } from \"@/components/ui/button\"\nimport { CartItem } from \"@/components/cart-item\"\nimport useSWR from \"swr\"\nimport { ShoppingBag } from \"lucide-react\"\n\nconst fetcher = (url: string) => fetch(url).then((res) => res.json())\n\nexport default function CartPage() {\n  const { data, error, isLoading } = useSWR(\"/api/cart\", fetcher)\n\n  if (isLoading) {\n    return (\n      <div className=\"container flex min-h-[60vh] items-center justify-center py-8\">\n        <p className=\"text-muted-foreground\">Loading cart...</p>\n      </div>\n    )\n  }\n\n  if (error || !data?.cart) {\n    return (\n      <div className=\"container flex min-h-[60vh] items-center justify-center py-8\">\n        <div className=\"text-center\">\n          <p className=\"text-muted-foreground\">Failed to load cart</p>\n          <Link href=\"/login\" className=\"mt-4 inline-block\">\n            <Button>Login to view cart</Button>\n          </Link>\n        </div>\n      </div>\n    )\n  }\n\n  const { cart, total } = data\n\n  if (cart.items.length === 0) {\n    return (\n      <div className=\"container flex min-h-[60vh] items-center justify-center py-8\">\n        <div className=\"text-center\">\n          <ShoppingBag className=\"mx-auto h-16 w-16 text-muted-foreground\" />\n          <h2 className=\"mt-4 text-2xl font-semibold\">Your cart is empty</h2>\n          <p className=\"mt-2 text-muted-foreground\">Start shopping to add items to your cart</p>\n          <Link href=\"/products\" className=\"mt-6 inline-block\">\n            <Button>Browse Products</Button>\n          </Link>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"container py-8\">\n      <h1 className=\"mb-8 text-3xl font-bold\">Shopping Cart</h1>\n\n      <div className=\"grid gap-8 lg:grid-cols-3\">\n        <div className=\"space-y-4 lg:col-span-2\">\n          {cart.items.map((item: any) => (\n            <CartItem key={item.id} item={item} />\n          ))}\n        </div>\n\n        <div className=\"lg:col-span-1\">\n          <div className=\"sticky top-20 rounded-lg border bg-muted/50 p-6\">\n            <h2 className=\"text-xl font-semibold\">Order Summary</h2>\n\n            <div className=\"mt-4 space-y-2\">\n              <div className=\"flex justify-between text-sm\">\n                <span className=\"text-muted-foreground\">Subtotal</span>\n                <span className=\"font-medium\">${total.toFixed(2)}</span>\n              </div>\n              <div className=\"flex justify-between text-sm\">\n                <span className=\"text-muted-foreground\">Shipping</span>\n                <span className=\"font-medium\">Free</span>\n              </div>\n              <div className=\"border-t pt-2\">\n                <div className=\"flex justify-between\">\n                  <span className=\"font-semibold\">Total</span>\n                  <span className=\"text-2xl font-bold\">${total.toFixed(2)}</span>\n                </div>\n              </div>\n            </div>\n\n            <Link href=\"/checkout\" className=\"mt-6 block\">\n              <Button className=\"w-full\" size=\"lg\">\n                Proceed to Checkout\n              </Button>\n            </Link>\n\n            <Link href=\"/products\" className=\"mt-3 block\">\n              <Button className=\"w-full bg-transparent\" variant=\"outline\">\n                Continue Shopping\n              </Button>\n            </Link>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAQA,MAAM,UAAU,CAAC,MAAgB,MAAM,KAAK,IAAI,CAAC,CAAC,MAAQ,IAAI,IAAI;AAEnD,SAAS;IACtB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,SAAS,EAAE,GAAG,IAAA,yKAAM,EAAC,aAAa;IAEvD,IAAI,WAAW;QACb,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAE,WAAU;0BAAwB;;;;;;;;;;;IAG3C;IAEA,IAAI,SAAS,CAAC,MAAM,MAAM;QACxB,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAE,WAAU;kCAAwB;;;;;;kCACrC,8OAAC,uKAAI;wBAAC,MAAK;wBAAS,WAAU;kCAC5B,cAAA,8OAAC,qIAAM;sCAAC;;;;;;;;;;;;;;;;;;;;;;IAKlB;IAEA,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG;IAExB,IAAI,KAAK,KAAK,CAAC,MAAM,KAAK,GAAG;QAC3B,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,mOAAW;wBAAC,WAAU;;;;;;kCACvB,8OAAC;wBAAG,WAAU;kCAA8B;;;;;;kCAC5C,8OAAC;wBAAE,WAAU;kCAA6B;;;;;;kCAC1C,8OAAC,uKAAI;wBAAC,MAAK;wBAAY,WAAU;kCAC/B,cAAA,8OAAC,qIAAM;sCAAC;;;;;;;;;;;;;;;;;;;;;;IAKlB;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAA0B;;;;;;0BAExC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;kCACZ,KAAK,KAAK,CAAC,GAAG,CAAC,CAAC,qBACf,8OAAC,uIAAQ;gCAAe,MAAM;+BAAf,KAAK,EAAE;;;;;;;;;;kCAI1B,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAG,WAAU;8CAAwB;;;;;;8CAEtC,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAK,WAAU;8DAAwB;;;;;;8DACxC,8OAAC;oDAAK,WAAU;;wDAAc;wDAAE,MAAM,OAAO,CAAC;;;;;;;;;;;;;sDAEhD,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAK,WAAU;8DAAwB;;;;;;8DACxC,8OAAC;oDAAK,WAAU;8DAAc;;;;;;;;;;;;sDAEhC,8OAAC;4CAAI,WAAU;sDACb,cAAA,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAK,WAAU;kEAAgB;;;;;;kEAChC,8OAAC;wDAAK,WAAU;;4DAAqB;4DAAE,MAAM,OAAO,CAAC;;;;;;;;;;;;;;;;;;;;;;;;8CAK3D,8OAAC,uKAAI;oCAAC,MAAK;oCAAY,WAAU;8CAC/B,cAAA,8OAAC,qIAAM;wCAAC,WAAU;wCAAS,MAAK;kDAAK;;;;;;;;;;;8CAKvC,8OAAC,uKAAI;oCAAC,MAAK;oCAAY,WAAU;8CAC/B,cAAA,8OAAC,qIAAM;wCAAC,WAAU;wCAAwB,SAAQ;kDAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAS1E"}}]
}