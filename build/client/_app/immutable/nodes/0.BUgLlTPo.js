import{c as J,a as f,d as te,f as h,t as Y,s as B}from"../chunks/BMgd0Fyj.js";import{f as z,p as re,a as oe,c as u,F as o,D as C,s as i,r as v,g as e,n as q,t as E,u as G}from"../chunks/CjCuP7Dm.js";import{r as D,B as Z,b as ee,a as S,e as ve}from"../chunks/Cby4HzBB.js";import{l as ae,s as se,i as N}from"../chunks/CClzeexG.js";import{c as fe}from"../chunks/CIvDA1ud.js";import{C as me,b as V}from"../chunks/gALCuKYq.js";import{g as ge}from"../chunks/BEL6xb7T.js";import{S as be}from"../chunks/BbbkiXbh.js";import"../chunks/D7iuV7Fv.js";import{I as ne,s as ie}from"../chunks/CYYjoGKG.js";function pe(_,l){const t=ae(l,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.554.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const a=[["path",{d:"m16 17 5-5-5-5"}],["path",{d:"M21 12H9"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}]];ne(_,se({name:"log-out"},()=>t,{get iconNode(){return a},children:(c,p)=>{var r=J(),$=z(r);ie($,l,"default",{}),f(c,r)},$$slots:{default:!0}}))}function _e(_,l){const t=ae(l,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.554.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const a=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}],["circle",{cx:"12",cy:"7",r:"4"}]];ne(_,se({name:"user"},()=>t,{get iconNode(){return a},children:(c,p)=>{var r=J(),$=z(r);ie($,l,"default",{}),f(c,r)},$$slots:{default:!0}}))}var xe=h('<div class="mb-4 p-3 bg-destructive/10 text-destructive text-sm rounded-md"> </div>'),he=h('<div><label for="name" class="block text-sm font-medium mb-2">Nombre</label> <input id="name" type="text" placeholder="Tu nombre" class="w-full px-3 py-2 border border-input rounded-md bg-background focus:outline-none focus:ring-2 focus:ring-accent"/></div>'),$e=h('<div class="p-6"><div class="flex gap-4 mb-6"><button>Iniciar Sesión</button> <button>Registro</button></div> <!> <div class="space-y-4"><!> <div><label for="email" class="block text-sm font-medium mb-2">Email</label> <input id="email" type="email" placeholder="tu@email.com" class="w-full px-3 py-2 border border-input rounded-md bg-background focus:outline-none focus:ring-2 focus:ring-accent"/></div> <div><label for="password" class="block text-sm font-medium mb-2">Contraseña</label> <input id="password" type="password" placeholder="••••••••" class="w-full px-3 py-2 border border-input rounded-md bg-background focus:outline-none focus:ring-2 focus:ring-accent"/></div> <!> <!></div> <button class="absolute top-4 right-4 text-muted-foreground hover:text-foreground">✕</button></div>'),ye=h('<div class="fixed inset-0 bg-black/50 flex items-center justify-center z-50"><!></div>');function ke(_,l){re(l,!0);let t=C("login"),a=C(""),c=C(""),p=C(""),r=C("");function $(){if(!e(a)||!e(c)){o(r,"Por favor completa todos los campos");return}if(S.login(e(a),e(c)))I(),l.onClose();else{let g="";S.subscribeError(x=>{x&&(g=x.message)}),o(r,g||"Error al iniciar sesión",!0)}}function j(){if(!e(a)||!e(c)||!e(p)){o(r,"Por favor completa todos los campos");return}if(S.register(e(a),e(p),e(c)))I(),l.onClose();else{let g="";S.subscribeError(x=>{x&&(g=x.message)}),o(r,g||"Error al registrar usuario",!0)}}function I(){o(a,""),o(c,""),o(p,""),o(r,""),o(t,"login")}var A=J(),F=z(A);{var P=y=>{var g=ye(),x=u(g);me(x,{class:"w-full max-w-md",children:(L,d)=>{var s=$e(),b=u(s),M=u(b);M.__click=()=>{o(t,"login"),o(r,"")};var w=i(M,2);w.__click=()=>{o(t,"register"),o(r,"")},v(b);var H=i(b,2);{var le=n=>{var m=xe(),k=u(m,!0);v(m),E(()=>B(k,e(r))),f(n,m)};N(H,n=>{e(r)&&n(le)})}var R=i(H,2),K=u(R);{var ce=n=>{var m=he(),k=i(u(m),2);D(k),v(m),V(k,()=>e(p),O=>o(p,O)),f(n,m)};N(K,n=>{e(t)==="register"&&n(ce)})}var T=i(K,2),Q=i(u(T),2);D(Q),v(T);var U=i(T,2),W=i(u(U),2);D(W),v(U);var X=i(U,2);{let n=G(()=>e(t)==="login"?$:j);Z(X,{get onclick(){return e(n)},class:"w-full bg-accent text-accent-foreground hover:opacity-90",children:(m,k)=>{q();var O=Y();E(()=>B(O,e(t)==="login"?"Iniciar Sesión":"Crear Cuenta")),f(m,O)},$$slots:{default:!0}})}var de=i(X,2);Z(de,{get onclick(){return l.onClose},class:"w-full bg-muted text-muted-foreground hover:bg-muted/80",children:(n,m)=>{q();var k=Y("Salir");f(n,k)},$$slots:{default:!0}}),v(R);var ue=i(R,2);ue.__click=function(...n){var m;(m=l.onClose)==null||m.apply(this,n)},v(s),E(()=>{ee(M,1,`pb-2 border-b-2 transition-colors ${e(t)==="login"?"border-accent text-accent font-semibold":"border-transparent text-muted-foreground"}`),ee(w,1,`pb-2 border-b-2 transition-colors ${e(t)==="register"?"border-accent text-accent font-semibold":"border-transparent text-muted-foreground"}`)}),V(Q,()=>e(a),n=>o(a,n)),V(W,()=>e(c),n=>o(c,n)),f(L,s)},$$slots:{default:!0}}),v(g),f(y,g)};N(F,y=>{l.isOpen&&y(P)})}f(_,A),oe()}te(["click"]);var we=h('<div class="text-sm text-muted-foreground"> </div> <button class="p-2 text-foreground hover:bg-secondary rounded-lg transition-colors" title="Cerrar sesión"><!></button>',1),Ce=h('<button class="flex items-center gap-2 px-3 py-2 rounded-lg text-foreground hover:bg-secondary transition-colors"><!> Acceder</button>'),Se=h('<span class="absolute -top-1 -right-1 bg-accent text-accent-foreground text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center"> </span>'),ze=h('<header class="sticky top-0 z-50 bg-background border-b border-border"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex items-center justify-between"><a href="/" class="flex items-center gap-2 hover:opacity-80 transition-opacity"><div class="w-10 h-10 bg-accent rounded-lg flex items-center justify-center"><span class="text-accent-foreground font-bold text-lg">S</span></div> <h1 class="text-xl font-bold text-foreground">Store</h1></a> <nav class="hidden md:flex gap-8 items-center"><a href="/" class="text-foreground hover:text-accent transition-colors">Catálogo</a> <a href="/" class="text-foreground hover:text-accent transition-colors">Acerca de</a></nav> <div class="flex items-center gap-4"><!> <button class="relative p-2 text-foreground hover:bg-secondary rounded-lg transition-colors" title="Ir al carrito"><!> <!></button></div></div></header> <!>',1);function Ie(_,l){re(l,!0);let t=C(!1),a=G(()=>{let d;return S.subscribe(s=>d=s)(),d}),c=G(()=>fe.items.length);var p=ze(),r=z(p),$=u(r),j=i(u($),4),I=u(j);{var A=d=>{var s=we(),b=z(s),M=u(b,!0);v(b);var w=i(b,2);w.__click=()=>S.logout();var H=u(w);pe(H,{size:20}),v(w),E(()=>B(M,e(a).name)),f(d,s)},F=d=>{var s=Ce();s.__click=()=>o(t,!0);var b=u(s);_e(b,{size:18}),q(),v(s),f(d,s)};N(I,d=>{e(a)?d(A):d(F,!1)})}var P=i(I,2);P.__click=()=>ge("/cart");var y=u(P);be(y,{size:24});var g=i(y,2);{var x=d=>{var s=Se(),b=u(s,!0);v(s),E(()=>B(b,e(c))),f(d,s)};N(g,d=>{e(c)>0&&d(x)})}v(P),v(j),v($),v(r);var L=i(r,2);ke(L,{onClose:()=>o(t,!1),get isOpen(){return e(t)},set isOpen(d){o(t,d,!0)}}),f(_,p),oe()}te(["click"]);var Pe=h("<!> <!>",1);function Re(_,l){var t=Pe(),a=z(t);Ie(a,{});var c=i(a,2);ve(c,()=>l.children),f(_,t)}export{Re as component};
