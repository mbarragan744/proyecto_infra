{"version":3,"file":"_page.svelte-CdMjtbOY.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/cart/_page.svelte.js"],"sourcesContent":["import { s as sanitize_props, a as spread_props, b as slot, f as ensure_array_like, c as attr } from \"../../../chunks/index2.js\";\nimport { c as cartItems } from \"../../../chunks/store.svelte.js\";\nimport { a as authStore, B as Button } from \"../../../chunks/button.js\";\nimport { o as ordersStore } from \"../../../chunks/orders.svelte.js\";\nimport { g as goto } from \"../../../chunks/client.js\";\nimport { I as Icon } from \"../../../chunks/Icon.js\";\nimport { V as escape_html } from \"../../../chunks/context.js\";\nfunction Trash_2($$renderer, $$props) {\n  const $$sanitized_props = sanitize_props($$props);\n  /**\n   * @license lucide-svelte v0.554.0 - ISC\n   *\n   * ISC License\n   *\n   * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.\n   *\n   * Permission to use, copy, modify, and/or distribute this software for any\n   * purpose with or without fee is hereby granted, provided that the above\n   * copyright notice and this permission notice appear in all copies.\n   *\n   * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES\n   * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF\n   * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR\n   * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES\n   * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN\n   * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF\n   * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n   *\n   * ---\n   *\n   * The MIT License (MIT) (for portions derived from Feather)\n   *\n   * Copyright (c) 2013-2023 Cole Bemis\n   *\n   * Permission is hereby granted, free of charge, to any person obtaining a copy\n   * of this software and associated documentation files (the \"Software\"), to deal\n   * in the Software without restriction, including without limitation the rights\n   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n   * copies of the Software, and to permit persons to whom the Software is\n   * furnished to do so, subject to the following conditions:\n   *\n   * The above copyright notice and this permission notice shall be included in all\n   * copies or substantial portions of the Software.\n   *\n   * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n   * SOFTWARE.\n   *\n   */\n  const iconNode = [\n    [\"path\", { \"d\": \"M10 11v6\" }],\n    [\"path\", { \"d\": \"M14 11v6\" }],\n    [\"path\", { \"d\": \"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6\" }],\n    [\"path\", { \"d\": \"M3 6h18\" }],\n    [\"path\", { \"d\": \"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\" }]\n  ];\n  Icon($$renderer, spread_props([\n    { name: \"trash-2\" },\n    $$sanitized_props,\n    {\n      /**\n       * @component @name Trash2\n       * @description Lucide SVG icon component, renders SVG Element with children.\n       *\n       * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAgMTF2NiIgLz4KICA8cGF0aCBkPSJNMTQgMTF2NiIgLz4KICA8cGF0aCBkPSJNMTkgNnYxNGEyIDIgMCAwIDEtMiAySDdhMiAyIDAgMCAxLTItMlY2IiAvPgogIDxwYXRoIGQ9Ik0zIDZoMTgiIC8+CiAgPHBhdGggZD0iTTggNlY0YTIgMiAwIDAgMSAyLTJoNGEyIDIgMCAwIDEgMiAydjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/trash-2\n       * @see https://lucide.dev/guide/packages/lucide-svelte - Documentation\n       *\n       * @param {Object} props - Lucide icons props and any valid SVG attribute\n       * @returns {FunctionalComponent} Svelte component\n       *\n       */\n      iconNode,\n      children: ($$renderer2) => {\n        $$renderer2.push(`<!--[-->`);\n        slot($$renderer2, $$props, \"default\", {});\n        $$renderer2.push(`<!--]-->`);\n      },\n      $$slots: { default: true }\n    }\n  ]));\n}\nfunction _page($$renderer, $$props) {\n  $$renderer.component(($$renderer2) => {\n    let currentUser = (() => {\n      let user;\n      authStore.subscribe((u) => user = u)();\n      return user;\n    })();\n    let items = cartItems.items;\n    let total = cartItems.getTotal();\n    function handleCheckout() {\n      if (!currentUser) {\n        alert(\"Por favor inicia sesión para continuar\");\n        return;\n      }\n      if (items.length === 0) {\n        alert(\"El carrito está vacío\");\n        return;\n      }\n      ordersStore.createOrder(currentUser.id, items, total);\n      cartItems.clearCart();\n      goto();\n    }\n    $$renderer2.push(`<div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\"><h1 class=\"text-3xl font-bold text-foreground mb-8\">Carrito de Compras</h1> `);\n    if (items.length === 0) {\n      $$renderer2.push(\"<!--[-->\");\n      $$renderer2.push(`<div class=\"text-center py-12 bg-secondary/50 rounded-lg\"><p class=\"text-lg text-muted-foreground mb-6\">Tu carrito está vacío</p> `);\n      Button($$renderer2, {\n        onclick: () => goto(),\n        class: \"bg-accent text-accent-foreground\",\n        children: ($$renderer3) => {\n          $$renderer3.push(`<!---->Continuar comprando`);\n        },\n        $$slots: { default: true }\n      });\n      $$renderer2.push(`<!----></div>`);\n    } else {\n      $$renderer2.push(\"<!--[!-->\");\n      $$renderer2.push(`<div class=\"grid grid-cols-1 lg:grid-cols-3 gap-8\"><div class=\"lg:col-span-2\"><div class=\"space-y-4\"><!--[-->`);\n      const each_array = ensure_array_like(items);\n      for (let $$index = 0, $$length = each_array.length; $$index < $$length; $$index++) {\n        let item = each_array[$$index];\n        $$renderer2.push(`<div class=\"flex gap-4 bg-card p-4 rounded-lg border border-border\"><img${attr(\"src\", item.image || \"/placeholder.svg\")}${attr(\"alt\", item.name)} class=\"w-20 h-20 object-cover rounded-md bg-secondary\"/> <div class=\"flex-1\"><h3 class=\"font-semibold text-foreground\">${escape_html(item.name)}</h3> <p class=\"text-sm text-muted-foreground\">$${escape_html(item.price.toFixed(2))}</p></div> <div class=\"flex items-center gap-2\"><button class=\"px-2 py-1 border border-border rounded hover:bg-secondary\">−</button> <span class=\"w-8 text-center font-semibold\">${escape_html(item.quantity)}</span> <button class=\"px-2 py-1 border border-border rounded hover:bg-secondary\">+</button></div> <div class=\"text-right\"><p class=\"font-bold text-foreground\">$${escape_html((item.price * item.quantity).toFixed(2))}</p> <button class=\"text-destructive hover:opacity-80 transition-opacity mt-2\" title=\"Eliminar producto\">`);\n        Trash_2($$renderer2, { size: 18 });\n        $$renderer2.push(`<!----></button></div></div>`);\n      }\n      $$renderer2.push(`<!--]--></div></div> <div class=\"bg-card p-6 rounded-lg border border-border h-fit\"><h2 class=\"text-xl font-bold text-foreground mb-4\">Resumen</h2> <div class=\"space-y-2 mb-6 text-sm\"><div class=\"flex justify-between text-muted-foreground\"><span>Subtotal (${escape_html(items.length)} items)</span> <span>$${escape_html(total.toFixed(2))}</span></div> <div class=\"flex justify-between text-muted-foreground\"><span>Envío</span> <span>Gratis</span></div> <div class=\"border-t border-border pt-2 mt-2 flex justify-between font-bold text-foreground\"><span>Total</span> <span>$${escape_html(total.toFixed(2))}</span></div></div> `);\n      Button($$renderer2, {\n        onclick: handleCheckout,\n        class: \"w-full bg-accent text-accent-foreground hover:opacity-90\",\n        children: ($$renderer3) => {\n          $$renderer3.push(`<!---->Ir al Checkout`);\n        },\n        $$slots: { default: true }\n      });\n      $$renderer2.push(`<!----> `);\n      Button($$renderer2, {\n        onclick: () => goto(),\n        variant: \"outline\",\n        class: \"w-full mt-2 border-border\",\n        children: ($$renderer3) => {\n          $$renderer3.push(`<!---->Seguir comprando`);\n        },\n        $$slots: { default: true }\n      });\n      $$renderer2.push(`<!----></div></div>`);\n    }\n    $$renderer2.push(`<!--]--></div>`);\n  });\n}\nexport {\n  _page as default\n};\n"],"names":[],"mappings":"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"}